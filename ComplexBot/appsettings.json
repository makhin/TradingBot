{
  "BinanceApi": {
    "ApiKey": "",
    "ApiSecret": "",
    "UseTestnet": true
  },

  "App": {
    "Paths": {
      "DataDirectory": "Data",
      "LogsDirectory": "data/logs"
    },
    "Connection": {
      "Backoff": {
        "MinDelayMs": 1000,
        "MaxDelayMs": 32000,
        "Factor": 2.0,
        "DelaysMs": []
      },
      "JitterFactor": 0.2
    },
    "AllowedIntervals": [ "OneHour", "FourHour", "OneDay" ]
  },

  "Telegram": {
    "Enabled": false,
    "BotToken": "",
    "ChatId": 0
  },

  "RiskManagement": {
    "RiskPerTradePercent": 1.0,
    "MaxPortfolioHeatPercent": 10.0,
    "MaxDrawdownPercent": 15.0,
    "MaxDailyDrawdownPercent": 3.0,
    "AtrStopMultiplier": 2.5,
    "TakeProfitMultiplier": 1.5,
    "MinimumEquityUsd": 100.0,
    "DrawdownRiskPolicy": [
      {
        "DrawdownThresholdPercent": 20.0,
        "RiskMultiplier": 0.25
      },
      {
        "DrawdownThresholdPercent": 15.0,
        "RiskMultiplier": 0.5
      },
      {
        "DrawdownThresholdPercent": 10.0,
        "RiskMultiplier": 0.75
      },
      {
        "DrawdownThresholdPercent": 5.0,
        "RiskMultiplier": 0.9
      }
    ]
  },

  "PortfolioRisk": {
    "MaxTotalDrawdownPercent": 25.0,
    "MaxCorrelatedRiskPercent": 10.0,
    "MaxConcurrentPositions": 5,
    "CorrelationGroups": {
      "BTC_CORRELATED": [ "BTCUSDT", "ETHUSDT", "BNBUSDT", "SOLUSDT" ],
      "ALTCOINS_L1": [ "ADAUSDT", "DOTUSDT", "AVAXUSDT", "MATICUSDT" ],
      "ALTCOINS_DEFI": [ "UNIUSDT", "AAVEUSDT", "LINKUSDT", "SUSHIUSDT" ],
      "MEMECOINS": [ "DOGEUSDT", "SHIBUSDT", "PEPEUSDT" ]
    }
  },

  "Strategy": {
    "AdxPeriod": 12,
    "AdxThreshold": 22.0,
    "AdxExitThreshold": 18.0,
    "RequireFreshTrend": false,
    "RequireAdxRising": false,
    "AdxSlopeLookback": 5,
    "AdxFallingExitBars": 2,
    "MaxBarsInTrade": 36,
    "FastEmaPeriod": 12,
    "SlowEmaPeriod": 40,
    "AtrPeriod": 14,
    "AtrStopMultiplier": 2.0,
    "TakeProfitMultiplier": 1.2,
    "MinAtrPercent": 0.0,
    "MaxAtrPercent": 100.0,
    "VolumePeriod": 20,
    "VolumeThreshold": 1.5,
    "RequireVolumeConfirmation": false,
    "ObvPeriod": 20,
    "RequireObvConfirmation": false,
    "PartialExitRMultiple": 0.75,
    "PartialExitFraction": 0.6
  },

  "Backtest": {
    "InitialCapital": 10000.0,
    "CommissionPercent": 0.1,
    "SlippagePercent": 0.05
  },

  "LiveTrading": {
    "Symbol": "ETHUSDT",
    "Interval": "OneHour",
    "InitialCapital": 10000.0,
    "Strategy": "AdxTrendFollowing",
    "UseTestnet": true,
    "PaperTrade": true,
    "WarmupCandles": 100,
    "TradingMode": "Spot",
    "FeeRate": 0.001,
    "SlippageBps": 2.0,
    "MinimumOrderUsd": 10.0,
    "QuantityPrecision": 5,
    "LimitOrderOffsetBps": 5.0,
    "LimitOrderTimeoutSeconds": 5,
    "StatusLogIntervalMinutes": 5,
    "BalanceLogIntervalHours": 4
  },

  "Optimization": {
    "InSampleRatio": 0.7,
    "OptimizeFor": "RiskAdjusted",
    "Policy": {
      "MinTrades": 30,
      "MaxDrawdownPercent": 30.0,
      "InsufficientTradesPenalty": -100.0,
      "MaxDrawdownPenalty": -999.0,
      "InvalidSettingsPenalty": -1000.0,
      "DrawdownPenaltyThresholdPercent": 20.0,
      "DrawdownPenaltyFactor": 0.1
    },
    "MinRobustnessRatio": 0.5,
    "TopResultsCount": 10,
    "AdxPeriodRange": [ 10, 14, 20 ],
    "AdxThresholdRange": [ 20.0, 25.0, 30.0 ],
    "FastEmaRange": [ 10, 15, 20, 25 ],
    "SlowEmaRange": [ 40, 50, 60, 80 ],
    "AtrMultiplierRange": [ 2.0, 2.5, 3.0 ],
    "VolumeThresholdRange": [ 1.0, 1.5, 2.0 ]
  },

  "MaStrategy": {
    "FastMaPeriod": 10,
    "SlowMaPeriod": 30,
    "AtrPeriod": 14,
    "AtrStopMultiplier": 2.0,
    "TakeProfitMultiplier": 2.0,
    "VolumePeriod": 20,
    "VolumeThreshold": 1.2,
    "RequireVolumeConfirmation": true
  },

  "RsiStrategy": {
    "RsiPeriod": 14,
    "OversoldLevel": 30.0,
    "OverboughtLevel": 70.0,
    "NeutralZoneLow": 45.0,
    "NeutralZoneHigh": 55.0,
    "ExitOnNeutral": false,
    "AtrPeriod": 14,
    "AtrStopMultiplier": 1.5,
    "TakeProfitMultiplier": 2.0,
    "TrendFilterPeriod": 50,
    "UseTrendFilter": true,
    "VolumePeriod": 20,
    "VolumeThreshold": 1.0,
    "RequireVolumeConfirmation": false
  },

  "Ensemble": {
    "Enabled": false,
    "MinimumAgreement": 0.6,
    "UseConfidenceWeighting": true,
    "StrategyWeights": {
      "AdxTrendFollowing": 0.5,
      "MaCrossover": 0.25,
      "RsiMeanReversion": 0.25
    }
  },

  "EnsembleOptimizer": {
    "WeightMin": 0.05,
    "WeightMax": 1.0,
    "MinimumAgreementMin": 0.4,
    "MinimumAgreementMax": 0.8,
    "AllowConfidenceWeightingToggle": true,
    "DefaultUseConfidenceWeighting": true,
    "MinTrades": 20
  },

  "MaOptimizer": {
    "FastMaMin": 5,
    "FastMaMax": 25,
    "SlowMaMin": 20,
    "SlowMaMax": 120,
    "AtrPeriod": 14,
    "AtrMultiplierMin": 1.5,
    "AtrMultiplierMax": 4.0,
    "TakeProfitMultiplierMin": 1.0,
    "TakeProfitMultiplierMax": 3.0,
    "VolumePeriod": 20,
    "VolumeThresholdMin": 1.0,
    "VolumeThresholdMax": 2.5
  },

  "RsiOptimizer": {
    "RsiPeriodMin": 10,
    "RsiPeriodMax": 20,
    "OversoldMin": 20.0,
    "OversoldMax": 35.0,
    "OverboughtMin": 65.0,
    "OverboughtMax": 80.0,
    "NeutralZoneLow": 45.0,
    "NeutralZoneHigh": 55.0,
    "AtrPeriod": 14,
    "AtrMultiplierMin": 1.0,
    "AtrMultiplierMax": 3.5,
    "TakeProfitMultiplierMin": 1.5,
    "TakeProfitMultiplierMax": 3.0,
    "TrendFilterMin": 20,
    "TrendFilterMax": 100,
    "VolumePeriod": 20,
    "VolumeThresholdMin": 1.0,
    "VolumeThresholdMax": 2.5
  },

  "GeneticOptimizer": {
    "PopulationSize": 100,
    "Generations": 50,
    "EliteCount": 5,
    "TournamentSize": 5,
    "CrossoverRate": 0.8,
    "MutationRate": 0.15,
    "EarlyStoppingPatience": 10,
    "EarlyStoppingThreshold": 0.01,
    "RandomSeed": null
  },

  "AdxOptimizer": {
    "AdxPeriodMin": 10,
    "AdxPeriodMax": 25,
    "AdxThresholdMin": 18.0,
    "AdxThresholdMax": 35.0,
    "AdxExitThresholdMin": 12.0,
    "AdxExitThresholdMax": 25.0,
    "FastEmaMin": 8,
    "FastEmaMax": 30,
    "SlowEmaMin": 35,
    "SlowEmaMax": 100,
    "AtrMultiplierMin": 1.5,
    "AtrMultiplierMax": 4.0,
    "TakeProfitMultiplierMin": 1.0,
    "TakeProfitMultiplierMax": 3.0,
    "VolumeThresholdMin": 1.0,
    "VolumeThresholdMax": 2.5
  }
}
